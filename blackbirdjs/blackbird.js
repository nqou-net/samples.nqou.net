!function(){function generateMarkup(){var a=[];for(type in messageTypes)a.push(['<span class="',type,'" type="',type,'"></span>'].join(""));var b=document.createElement("DIV");return b.id=IDs.blackbird,b.style.display="none",b.innerHTML=['<div class="header">','<div class="left">','<div id="',IDs.filters,'" class="filters" title="click to filter by message type">',a.join(""),"</div>","</div>",'<div class="right">','<div id="',IDs.controls,'" class="controls">','<span id="',IDs.size,'" title="contract" op="resize"></span>','<span class="clear" title="clear" op="clear"></span>','<span class="close" title="close" op="close"></span>',"</div>","</div>","</div>",'<div class="main">','<div class="left"></div><div class="mainBody">',"<ol>",cache.join(""),"</ol>",'</div><div class="right"></div>',"</div>",'<div class="footer">','<div class="left"><label for="',IDs.checkbox,'"><input type="checkbox" id="',IDs.checkbox,'" />Visible on page load</label></div>','<div class="right"></div>',"</div>"].join(""),b}function backgroundImage(){var a=document.getElementsByTagName("BODY")[0];a.currentStyle&&IE6_POSITION_FIXED&&("none"==a.currentStyle.backgroundImage&&(a.style.backgroundImage="url(about:blank)"),"scroll"==a.currentStyle.backgroundAttachment&&(a.style.backgroundAttachment="fixed"))}function addMessage(a,b){if(b=b.constructor==Array?b.join(""):b,outputList){var c=document.createElement("LI");c.className=a,c.innerHTML=['<span class="icon"></span>',b].join(""),outputList.appendChild(c),scrollToBottom()}else cache.push(['<li class="',a,'"><span class="icon"></span>',b,"</li>"].join(""))}function clear(){outputList.innerHTML=""}function clickControl(a){a||(a=window.event);var b=a.target?a.target:a.srcElement;if("SPAN"==b.tagName)switch(b.getAttributeNode("op").nodeValue){case"resize":resize();break;case"clear":clear();break;case"close":hide()}}function clickFilter(a){a||(a=window.event);var b=a.target?a.target:a.srcElement;if(b&&"SPAN"==b.tagName){var c=b.getAttributeNode("type").nodeValue;if(a.altKey){var d=document.getElementById(IDs.filters).getElementsByTagName("SPAN"),e=0;for(entry in messageTypes)messageTypes[entry]&&e++;for(var f=1==e&&messageTypes[c],g=0;d[g];g++){var h=d[g].getAttributeNode("type").nodeValue;d[g].className=f||h==c?h:h+"Disabled",messageTypes[h]=f||h==c}}else messageTypes[c]=!messageTypes[c],b.className=messageTypes[c]?c:c+"Disabled";var i=[];for(c in messageTypes)messageTypes[c]||i.push(c);i.push(""),outputList.className=i.join("Hidden "),scrollToBottom()}}function clickVis(a){a||(a=window.event);var b=a.target?a.target:a.srcElement;state.load=b.checked,setState()}function scrollToBottom(){outputList.scrollTop=outputList.scrollHeight}function isVisible(){return"block"==bbird.style.display}function hide(){bbird.style.display="none"}function show(){var a=document.getElementsByTagName("BODY")[0];a.removeChild(bbird),a.appendChild(bbird),bbird.style.display="block"}function reposition(a){switch((void 0===a||null==a)&&(a=state&&null===state.pos?1:(state.pos+1)%4),a){case 0:classes[0]="bbTopLeft";break;case 1:classes[0]="bbTopRight";break;case 2:classes[0]="bbBottomLeft";break;case 3:classes[0]="bbBottomRight"}state.pos=a,setState()}function resize(a){(void 0===a||null===a)&&(a=state&&null==state.size?0:(state.size+1)%2),classes[1]=0===a?"bbSmall":"bbLarge";var b=document.getElementById(IDs.size);b.title=1===a?"small":"large",b.className=b.title,state.size=a,setState(),scrollToBottom()}function setState(){var a=[];for(entry in state){var b=state[entry]&&state[entry].constructor===String?'"'+state[entry]+'"':state[entry];a.push(entry+":"+b)}a=a.join(",");var c=new Date;c.setDate(c.getDate()+14),document.cookie=["blackbird={",a,"}; expires=",c.toUTCString(),";"].join("");var d=[];for(word in classes)d.push(classes[word]);bbird.className=d.join(" ")}function getState(){var re=new RegExp(/blackbird=({[^;]+})(;|\b|$)/),match=re.exec(document.cookie);return match&&match[1]?eval("("+match[1]+")"):{pos:null,size:null,load:null}}function readKey(a){a||(a=window.event);var b=113;if(a&&a.keyCode==b){var c=isVisible();c&&a.shiftKey&&a.altKey?clear():c&&a.shiftKey?reposition():a.shiftKey||a.altKey||(c?hide():show())}}function addEvent(a,b,c){var a=a.constructor===String?document.getElementById(a):a;a.attachEvent?(a["e"+b+c]=c,a[b+c]=function(){a["e"+b+c](window.event)},a.attachEvent("on"+b,a[b+c])):a.addEventListener(b,c,!1)}function removeEvent(a,b,c){var a=a.constructor===String?document.getElementById(a):a;a.detachEvent?(a.detachEvent("on"+b,a[b+c]),a[b+c]=null):a.removeEventListener(b,c,!1)}var NAMESPACE="log",IE6_POSITION_FIXED=!0,bbird,outputList,cache=[],state=getState(),classes={},profiler={},IDs={blackbird:"blackbird",checkbox:"bbVis",filters:"bbFilters",controls:"bbControls",size:"bbSize"},messageTypes={debug:!0,info:!0,warn:!0,error:!0,profile:!0};window[NAMESPACE]={toggle:function(){isVisible()?hide():show()},resize:function(){resize()},clear:function(){clear()},move:function(){reposition()},debug:function(a){addMessage("debug",a)},warn:function(a){addMessage("warn",a)},info:function(a){addMessage("info",a)},error:function(a){addMessage("error",a)},profile:function(a){var b=new Date;return void 0==a||""==a?addMessage("error","<b>ERROR:</b> Please specify a label for your profile statement"):profiler[a]?(addMessage("profile",[a,": ",b-profiler[a],"ms"].join("")),delete profiler[a]):(profiler[a]=b,addMessage("profile",a)),b}},addEvent(window,"load",function(){var a=document.getElementsByTagName("BODY")[0];bbird=a.appendChild(generateMarkup()),outputList=bbird.getElementsByTagName("OL")[0],backgroundImage(),addEvent(IDs.checkbox,"click",clickVis),addEvent(IDs.filters,"click",clickFilter),addEvent(IDs.controls,"click",clickControl),addEvent(document,"keyup",readKey),resize(state.size),reposition(state.pos),state.load&&(show(),document.getElementById(IDs.checkbox).checked=!0),scrollToBottom(),window[NAMESPACE].init=function(){show(),window[NAMESPACE].error(["<b>",NAMESPACE,"</b> can only be initialized once"])},addEvent(window,"unload",function(){removeEvent(IDs.checkbox,"click",clickVis),removeEvent(IDs.filters,"click",clickFilter),removeEvent(IDs.controls,"click",clickControl),removeEvent(document,"keyup",readKey)})})}(),function(a,b){"use strict";var c,d,e,f,g,h,i=function(){c=b.console,d={},d.log=b.log||c.error("blackbird.js required."),e=a("#src"),f=a("#stdout"),g=a("#stderr"),h=a(".jq-run")},j=function(a){f.append(a+"<br/>")},k=function(a,b,e){var f=d[a][b];c.debug("func:",f),"function"==typeof f?f(e):(c.error("function not defined."),c.debug("modules:",d),c.debug("arguments:",arguments))},l=function(b){b.preventDefault();var d=a(b.currentTarget),e=d.data("run").split(":");c.debug("args:",e),k.apply(null,e)},m=function(){f.empty(),g.empty();try{new Function(e.val())()}catch(a){g.text(a)}},n=function(){f.empty(),g.empty(),e.val("")},o=function(b){e.val(a(b).text())},p=function(){h.on("click",l)},q=function(){i(),p(),d.main={setSrc:o,runSrc:m,clearSrc:n},b.p=j,b.log.info("Hello!"),o("#sample1")};a(q)}(jQuery,this);